/*!
 * ZUI - v1.2.1 - 2015-04-15
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2015 cnezsoft.com; Licensed MIT
 */

!function(a,b){String.prototype.endsWith||(String.prototype.endsWith=function(a,b){var c=this.toString();(void 0===b||b>c.length)&&(b=c.length),b-=a.length;var d=c.indexOf(a,b);return-1!==d&&d===b});var c=!1,d=1;d&&console.error("DEBUG ENABLED.");var e={start:{},basic:{},control:{},component:{},javascript:{},view:{}},f="lastReloadAnimate",g="index.json",h={"index.json":null};d&&(a.dataset=h);var i,j,k,l,m,n=function(a,e,f){var g=h[a],i=null===g;if(i&&(g=b.store.get(a,null),null!==g&&e(g)),null===g||f||i||!c){var j=a.endsWith(".json")?"json":"html";b.get(a,function(c){if(!d&&null!==g){if("json"===j&&b.isPlainObject(c)&&g.version&&c.version&&c.version===g.version)return;if("html"===j&&g===c)return}h[a]=c,e(c),b.store.set(a,c)},j)}},o=function(a){a=a||h[g],a&&(console.log("Display Section: ",a),b.each(e,function(c,d){if(a.chapters[c]){var e=a.chapters[c].sections,f=d.$sections;f.children().remove(),b.each(e,function(a,b){var c=l.clone().attr("id","section-"+b.id);c.attr("data-id",b.id);var d=c.children(".card-heading");d.find(".name").text(b.name),d.children(".desc").text(b.desc);var e=d.children(".icon");(void 0===b.icon||null===b.icon||""===b.icon)&&(b.icon=b.name.substr(0,1).toUpperCase()),0===b.icon.indexOf("icon-")?e.addClass(b.icon):e.addClass("text-icon").text(b.icon);var g=c.find(".topics");if(b.topics&&b.topics.length)for(var h in b.topics){var i=b.topics[h];i.id=h,g.append('<li data-id="'+h+'">'+i.name+"</li>")}else g.remove(".card-content"),c.addClass("without-topics");f.append(c.addClass("show"))})}}),clearTimeout(k.data(f)),k.data(f,setTimeout(function(){k.find(".section, .chapter-heading").addClass("in")},200)))};b(function(){j=b(a),i=b("body"),k=b("#grid"),m=b("#header"),l=b("#sectionTemplate").attr("id",null);for(var c in e)e[c].$sections=b("#sections-"+c);n(g,o),k.on("click",".card-heading",function(){var a=b(this).closest(".card");return a.hasClass("without-topics")?a.find(".btn-toggle").trigger("click"):a.toggleClass("open"),!1}).on("mouseenter",".card-heading > h5 > .name, .card-heading > .icon",function(){b(this).closest(".card-heading").addClass("hover")}).on("mouseleave",".card-heading > h5 > .name, .card-heading > .icon",function(){b(this).closest(".card-heading").removeClass("hover")});var d,f=b("#navbar").outerHeight(),h=!1;j.on("scroll",function(a){h&&j.scrollTop(d),d=j.scrollTop(),console.log(d),d>f&&!i.hasClass("compact-mode")?(h=!0,i.addClass("compact-mode"),setTimeout(function(){j.scrollTop(1),i.addClass("compact-mode-in"),h=!1},10)):i.hasClass("compact-mode")&&(1>d?(h=!0,i.removeClass("compact-mode-in"),setTimeout(function(){i.removeClass("compact-mode"),h=!1},500)):m.toggleClass("with-shadow",d>20))})})}(window,jQuery);
/*!
 * ZUI: Document - v1.5.0 - 2016-08-25
 * http://zui.sexy
 * GitHub: https://github.com/easysoft/zui.git 
 * Copyright (c) 2016 cnezsoft.com; Licensed MIT
 */
+function(e,t){"use strict";String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var a=this.toString();(void 0===t||t>a.length)&&(t=a.length),t-=e.length;var s=a.indexOf(e,t);return-1!==s&&s===t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.lastIndexOf(e,t)===t}),String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.fn.allAttrs=function(){var e={};return t.each(t(this)[0].attributes,function(t,a){e[a.name]=a.value}),e};var a=function(t,a){var s=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r=e.location.search.substr(1).match(s);return null!==r?unescape(r[2]):a},s=a("debug",0);s&&console.warn("DEBUG ENABLED.");var r,o,i,n,l,c,d,u,h,p,f,g,v,m,b,C,y,w,x,k,T,W,L,E,j,z,S,A={basic:{col:1},control:{col:2},component:{col:2},javascript:{col:3},view:{col:3},learn:{col:1},promotion:{col:1,row:2},resource:{col:1,row:2},contribution:{col:1,row:2}},D="lastReloadAnimate",q="LAST_QUERY_ID",P="docs/index.json",O="docs/icons.json",B="package.json",_="zui.json",H=void 0,I={standard:null,lite:null,seperate:null},F={"default":{variables:{"color-primary":"#3280fc","color-secondary":"#145ccd","color-pale":"#ebf2f9","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"3px"}},blue:{variables:{"color-primary":"#039BE5","color-secondary":"#0288d1","color-pale":"#e1f5fe","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"2px"}},red:{variables:{"color-primary":"#d9534f","color-secondary":"#c74743","color-pale":"#ffebee","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"2px"}},green:{variables:{"color-primary":"#4caf50","color-secondary":"#43a047","color-pale":"#e8f5e9","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}},purple:{variables:{"color-primary":"#8666b8","color-secondary":"#673AB7","color-pale":"#f5eeff","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}},brown:{variables:{"color-primary":"#8D6E63","color-secondary":"#795548","color-pale":"#f7ebe1","border-radius-base":"15px","border-radius-large":"15px","border-radius-small":"15px"}},yellow:{variables:{"color-primary":"#d0884d","color-secondary":"#bd7b46","color-pale":"#fff0d5","border-radius-base":"4px","border-radius-large":"6px","border-radius-small":"2px"}},indigo:{variables:{"color-primary":"#3F51B5","color-secondary":"#3949AB","color-pale":"#ECEFF1","border-radius-base":0,"border-radius-large":"1px","border-radius-small":0}},bluegrey:{variables:{"color-primary":"#607D8B","color-secondary":"#546E7A","color-pale":"#ECEFF1","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}},black:{variables:{"color-primary":"#333","color-secondary":"#222","color-pale":"#f5f5f5","border-radius-base":0,"border-radius-large":0,"border-radius-small":0}}},N="ZUI",U=-1,M=1120,R=!0,$=function(e){return"string"==typeof e?(e=e.toLowerCase(),e.startsWith("http://")||e.startsWith("https://")):!1},Q=function(){if(!(document.body.clientWidth>=e.innerWidth)){if(0>U){var t=document.createElement("div");t.className="modal-scrollbar-measure",u.append(t),U=t.offsetWidth-t.clientWidth,u[0].removeChild(t)}if(U){var a=parseInt(u.css("padding-right")||0,10);u.css("padding-right",a+U),T.css("padding-right",U)}}},V=function(){u.css("padding-right",""),T.css("padding-right","")},Y=function(e,a,l,c){var d=null,h=e===P,p=e===O,f=!1;if(h&&i)d={data:i,version:i.version},f=!0;else if(p&&n)d=n,f=!0;else if(o){var g=t.zui.store.get("//"+e,null);if(null!==g){var v=t.zui.store.get("//"+e+"::V");v&&(d={data:g,version:v},f=!0,!i&&h&&(i=g),s&&console.log("Ready storage data ",e,":",d))}}if(!f||!h&&d.version!==r||(s&&console.log("Load",e,"from cache:",d),c||(a(d.data,"cache"),h||s))){var m=e.endsWith(".json")?"json":"html",b=function(){t.get(e,function(o){null!==o?(h?(r=o.version,i=o):p&&(n={data:o,version:r}),d={data:o,version:r},t.zui.store.set("//"+e,o),t.zui.store.set("//"+e+"::V",r),s&&console.log("Load",e,"from remote:",d),a(o,"remote")):f&&!h&&(s&&console.log("Failed load",e,"from remote, instead load cache:",d),a(d.data,"cache"))},m).error(function(){s&&console.warn("Ajax error:",e),f&&!h?(s&&console.log("Failed load",e,"from remote with error, instead load cache:",d),a(d.data,"cache")):a(null,"error"),u.hasClass("page-open")&&k.children(".loader").addClass("with-error")})};l!==!1&&(l?setTimeout(b,l):b())}},Z=function(e,a){return i?(t.each(A,function(s,r){if(i.chapters[s]){t.extend(r,i.chapters[s]);var o=r.sections,n=null;return a&&(n=a(r,o),n===!1)?!1:void t.each(o,function(t,a){return e(r,a,n)===!1?!1:void 0})}}),!0):(console.error("Document index is empty."),!1)},G=function(e,t){var a=t.icon;e.attr("class","icon").text("").css("background-image",""),(void 0===a||null===a||""===a)&&(a=t.name.substr(0,1).toUpperCase()),a.startsWith("icon-")?e.addClass(a):a.endsWith(".png")?e.css("background-image","url("+a+")").addClass("with-img"):e.addClass("text-icon").text(a)},J=function(){var e=0;Z(function(a,s,r){var o=a.id;s.chapter=o,s.chapterName=a.name;var i=s.url;"undefined"==typeof i?(s.url="docs/part/"+s.chapter+"-"+s.id+".md",s.target="page",s.targetType="markdown",s.oldUrl="docs/part/"+s.chapter+"-"+s.id+".html"):$(i)?(s.target="external",s.targetType=null):i&&i.endsWith(".md")?(s.target="page",s.targetType="markdown",".md"===i&&(s.url="docs/part/"+s.chapter+"-"+s.id+".md")):i&&i.endsWith(".html")?(s.target="page",s.targetType="html",".html"===i&&(s.url="docs/part/"+s.chapter+"-"+s.id+".html")):s.target="";var n=o+"-"+s.id,l=f.clone().data("section",s);l.attr({id:"section-"+n,"data-id":s.id,"data-chapter":o,"data-order":e++,"data-accent":a.accent,"data-target":s.target});var d=l.children(".card-heading"),u="#"+o+"/"+s.id;d.find(".name").text(s.name).attr("href",u),G(d.children(".icon"),s);var h=l.find(".topics");if(s.topics&&s.topics.length){var p=0;t.each(s.topics,function(e,t){"undefined"==typeof t.id&&(t.id=e);var a="undefined"==typeof t.url?u+"/"+p++:t.url;h.append('<li data-id="'+e+'"><a href="'+a+'"'+($(a)?' target="_blank"':"")+">"+t.name+"</a></li>")})}else h.remove(".card-content"),l.addClass("without-topics");r.append(l.addClass("show"+(c?" in":"")))},function(e,t){e.$.attr("data-accent",e.accent);var a=e.$sections;return a.children().remove(),a})?(u.children(".loader").removeClass("loading"),j=p.find(".section"),c||(clearTimeout(p.data(D)),p.data(D,setTimeout(function(){j.addClass("in"),z.addClass("in")},100)),c=!0)):s&&console.error("Display sections failed.")},X=function(e,t,a){e===H&&(e=u),t===H||"down"===t?t=e.scrollTop()+.8*(h.height()-e.offset().top):"up"===t&&(t=e.scrollTop()-.8*(h.height()-e.offset().top)),e.animate({scrollTop:t},200,"swing",a)},K=function(e){if(e){e.offset().top,e.outerHeight(),h.height(),u.scrollTop()}},ee=function(e){return e===H&&(e=b),e&&e.hasClass("choosed")&&e.hasClass("show")},te=function(e,t,a){if(j){if(ee(e||null)&&!a)return b=e.addClass("open"),void K(e);var s=e&&e.hasClass("open");j.removeClass(t?"choosed":"choosed open"),e&&e.hasClass("section")&&(b=e.addClass(a&&!s?"choosed":"choosed open"),K(e))}},ae=function(){var e=j.filter(".show");if(ee()){for(var t=parseInt(b.data("order")),a=b;--t>-1;){var s=e.filter('[data-order="'+t+'"]');if(s.length){a=s;break}}te(a)}else te(e.first())},se=function(){var e=j.filter(".show");if(ee()){for(var t=parseInt(b.data("order")),a=b,s=j.length;t++<s;){var r=e.filter('[data-order="'+t+'"]');if(r.length){a=r;break}}te(a)}else te(e.first())},re=function(e,t,a,s){return Math.sqrt(Math.pow(e-a,2)+Math.pow(t-s,2),2)},oe=function(){var e=j.filter(".show");if(ee()){var a=b.offset(),s=a.left-p.children(".container").offset().left-10;if(50>s)return void ae();var r=a.top;s=a.left;var o=b,i=99999;e.each(function(){var e=t(this),a=e.offset();if(a.left+50<s){var n=re(a.left,a.top,s,r);i>n&&(o=e,i=n)}}),te(o)}else te(e.first())},ie=function(){var e=j.filter(".show");if(ee()){var a=b.offset(),s=p.children(".container"),r=a.left-s.offset().left-10;if(r+20+b.outerWidth()+50>=s.outerWidth())return void se();var o=a.top;r=a.left;var i=b,n=99999;e.each(function(){var e=t(this),a=e.offset();if(a.left>r){var s=re(a.left,a.top,r,o);n>s&&(i=e,n=s)}}),te(i)}else te(e.first())},ne=function(){p.find(".col.hide").removeClass("hide"),v.removeClass("hide"),j.addClass("show"),z.addClass("show"),p.data(D,setTimeout(function(){j.addClass("in"),z.addClass("in")},20)),u.removeClass("query-enabled").attr("data-query","")},le=function(e){var a=t("#section-control-icon");if(!e||!e.length)return void a.removeClass("section-preview-show").data("preview",null);a.addClass("open section-preview-show");var s=a.children(".section-preview"),r=a.data("preview");s.length||(s=t("#iconPreviewTemplate").clone().attr("id",""),a.children(".card-heading").after(s)),a.children(".section-search").find("li.active").removeClass("active"),e.addClass("active"),r&&s.find(".icon").removeClass("icon-"+r);var o=e.data("icon");a.data("preview",o.id);var i="icon-"+o.id,n=(o.id.startsWith("spin")||o.categories&&o.categories.indexOf("Spinner Icons")>-1)===!0;s.find(".icon").addClass(i).toggleClass("icon-spin",n),s.find(".name").text(n?"icon-spin "+i:i),s.find(".unicode").text(o.code),o.alias&&o.alias.length?s.find(".alias").removeClass("hide").find(".alias-values").text(o.alias.join(",")):s.find(".alias").addClass("hide")},ce=function(e){t.isArray(e)||!e&&!e.length||(e=[e]);var a=t("#section-control-icon");u.attr("data-query","icons");var s=a.children(".section-search");s.length||(s=t('<div class="section-search card-content"><div class="loader loading"><i class="icon icon-spin icon-spinner"></i> 正在拼命加载中...</div></div>'),a.children(".card-heading").after(s),s=a.children(".section-search")),Y(O,function(a){var r=s.children("ul");if(r.length||(r=t('<ul data-view="icons">'),t.each(a,function(e,a){var s=t('<li id="control-icon-'+e+'" data-id="'+e+'"><a href="#control/icons/'+e+'"><i class="icon icon-'+e+'"></i> icon-'+e+"</a></li>");a.id=e,s.data("icon",a),r.append(s)}),s.children(".loader").replaceWith(r)),!e.length)return r.children(".hide").removeClass("hide"),void le(r.children().first());e.forEach(function(t,a){e[a]=e[a].toLowerCase()});var o,i=0;t.each(a,function(a,s){var r=!1,n=0;a=a.toLowerCase(),t.each(e,function(e,o){var i=!1;if(a.includes(o))i=!0,n+=a.startsWith(o)?120:110;else if(s.name&&s.name.toLowerCase().includes(o))i=!0,n+=s.name.toLowerCase().startsWith(o)?100:95;else if(o.startsWith("\\")&&s.code&&s.code.toLowerCase().includes(o.substr(1)))i=!0,n+=120;else{var l=[];if(t.isArray(s.filter)&&s.filter.length&&(l=l.concat(s.filter)),t.isArray(s.categories)&&s.categories.length&&(l=l.concat(s.categories)),t.isArray(s.alias)&&s.alias.length&&(l=l.concat(s.alias)),!l.length)return;t.each(l,function(e,t){return t=t.toLowerCase(),t.includes(o)?(i=!0,n+=50,!1):void 0})}return i?void(r=!0):r=!1});var l=t("#control-icon-"+a).toggleClass("hide",!r);r&&n>i&&(i=n,o=l)}),le(o)})},de=function(a){if(!j)return void(s&&console.log("Query failed, $sections is empty. key:",a));if("undefined"==typeof a&&(a=null),g.data("queryString")!==a&&(g.data("queryString",a).val(a),p.css("min-height",p.height())),null===a||!a.length)return ne(),void W.removeClass("with-query-text");W.addClass("with-query-text"),u.addClass("query-enabled").attr("data-query",""),e.ga&&t.isFunction(ga)&&(d&&clearTimeout(d),d=setTimeout(function(){ga("send","pageview",e.location.pathname+"#search/"+a)},2e3));var r=[];if(t.each(a.split(" "),function(e,a){a=t.trim(a).toLowerCase();var s={origin:a};a.startsWith("@")?(s.type="id",s.chapter=a.substr(1),s.val=s.chapter):a.startsWith("#")?(s.type="id",s.val=a.substr(2)):a.startsWith("icon-")||a.startsWith("icon:")?(s.type="icon",s.val=a.substr(5)):a.startsWith("i:")||a.startsWith("i-")?(s.type="icon",s.val=a.substr(2)):a.startsWith("ver:")?(s.type="version",s.val=a.substr(4)):a.startsWith("v:")?(s.type="version",s.val=a.substr(2)):a.startsWith("version:")?(s.type="version",s.val=a.substr(8)):a.startsWith("gulp:")||a.startsWith("build:")?(s.type="build",s.val=a.substr(6)):a.startsWith("g:")||a.startsWith("b:")?(s.type="build",s.val=a.substr(2)):(t.each(A,function(e){return a.startsWith(e+":")?(s.type="id",s.chapter=e,s.val=a.substr(e.length),!1):void 0}),s.type||(s.type="any",s.val=a)),(s.val.length||s.type&&"any"!==s.type)&&r.push(s)}),!r.length)return void ne();var o,i,n,l,c,f,v,m={},b={};if(Z(function(e,a){n=!0,f=[],o=0,t.each(r,function(s,i){switch(c=i.val,v=null,l=!1,i.type){case"id":l=(i.chapter?e:a).id.includes(c),l&&(v=[i.chapter?"chapter":"section","id"]),o=100;break;case"icon":if(n="icon"===a.id){o=120,f.push({key:i,type:["section","id"]});var d=[];return(i.val||i.val.length)&&d.push(i.val),r.forEach(function(e){e.val!==i.val&&(e.val||e.val.length)&&d.push(e.val)}),ce(d),!1}break;default:var u=a.name.toLowerCase();if(u.includes(c)){l=!0,v=["section","name"],o=u.startsWith(c)?85:82;break}if(a.filter&&a.filter.includes(c)){l=!0,v=["section","filter"],o=80;break}var h=e.name.toLowerCase();if(h.includes(c)){l=!0,v=["chapter","name"],o=h.startsWith(c)?75:73;break}if(e.filter&&e.filter.includes(c)){l=!0,v=["chapter","filter"],o=70;break}if(c.length>1){if(a.id.includes(c)){l=!0,v=["section","id"],o=65;break}if(e.id.includes(c)){l=!0,v=["chapter","id"],o=60;break}if(t.isArray(a.topics)){var p=!1;if(t.each(a.topics,function(e,t){return t.name&&t.name.toLowerCase().includes(c)?(l=!0,v=["section","topic",e],p=!0,o=20,!1):void 0}),p)break}if(a.desc.toLowerCase().includes(c)){l=!0,v="section.desc",o=30;break}}else{if(e.id.startsWith(c)){l=!0,v=["chapter","id"],o=60;break}if(a.id.startsWith(c)){l=!0,v=["section","id"],o=50;break}}}return l?void f.push({key:i,type:v}):(n=!1,!1)}),i=e.id+"-"+a.id,n?(b[e.id]++,m[i]={hidden:!1,matches:f,weight:o}):m[i]={hidden:!0}},function(e){b[e.id]=0})){var C,y,w=t(),x=t(),k=-1;t.each(m,function(e,a){C=t("#section-"+e),a.hidden?w=w.add(C):(x=x.add(C),k<a.weight&&(y=C,k=a.weight)),te(y)});var T,L;t.each(b,function(e,t){L=A[e],T=!t,L.$.toggleClass("hide",T)});var z=0;p.find(".row").each(function(){var e=0,a=t(this);a.children(".col").each(function(){var a=t(this),s=a.children(".chapter:not(.hide)").length;if(a.toggleClass("hide",!s),s&&(e++,!u.hasClass("compact-mode"))){var r=a.find(".section:not(.hide)").length;r>2&&h.height()<E.height()+70*r&&ue(!0)}}),z=Math.max(z,e)}),p.attr("data-show-col",z),w.length&&(w.removeClass("in"),setTimeout(function(){w.removeClass("show")},100)),x.length&&(x.addClass("show"),setTimeout(function(){x.addClass("in")},20)),h.scrollTop(1),he()}else s&&console.error("Query failed with key: ",r)},ue=function(e,t){e===H&&(e=!u.hasClass("compact-mode"));var a="isScrollAnimating";e?u.hasClass("compact-mode")?t&&t():(u.data(a,!0).addClass("compact-mode"),setTimeout(function(){u.addClass("compact-mode-in"),h.scrollTop(1),setTimeout(function(){u.data(a,!1),t&&t()},300)},10)):u.hasClass("compact-mode")?(u.data(a,!0).removeClass("compact-mode-in"),setTimeout(function(){u.removeClass("compact-mode"),u.data(a,!1),t&&t()},300)):t&&t()},he=function(){if(e.afterPageLoad=null,e.onPageLoad=null,t.isFunction(e.onPageClose)&&(e.onPageClose(),e.onPageClose=null),u.hasClass("page-open")){var a=C.data("trans-style");return a&&(a["max-height"]="",C.css(a)),u.addClass("page-show-out").removeClass("page-open page-show-in"),""!==g.val()&&g.focus(),e.document.title=N,e.location.hash="#/",setTimeout(function(){u.removeClass("page-show page-show-out"),V()},300),!0}return!1},pe=function(e){C.removeClass("page-collapsed");var t=typeof e;if("undefined"!==t){if("string"===t){var a=parseInt(e);NaN!==a&&(t="number",e=a)}var s=function(e){e&&e.length&&(be(!1),be(e.addClass("hover"),!0))};"number"===t?s(w.children("section").eq(e)):"string"===t&&t.length}},fe=function(){C.removeClass("loading"),x.removeClass("loading")},ge=function(){var a=!1;t.isFunction(e.onPageLoad)&&(a=e.onPageLoad()===!1),setTimeout(function(){t.isFunction(e.afterPageLoad)&&e.afterPageLoad(fe)===!0&&ge();var a=k.find("pre");a.length&&e.prettyPrint&&e.prettyPrint&&(a.addClass("prettyprint"),e.prettyPrint())},200),a||fe()},ve=function(a,r,o){var i=r.chapter+"-"+r.id;if(u.hasClass("page-open")&&i===u.attr("data-page"))return void(s&&console.warn("The page already showed."));te(a,!1,!0);var n="#"+r.chapter+"/"+r.id;o&&(n+="/"+o),e.document.title=r.chapterName+" > "+r.name+" - "+N,e.location.hash=n,e.ga&&t.isFunction(ga)&&ga("send","pageview",e.location.pathname+n),u.attr("data-page-accent",a.data("accent")).attr("data-page",i),G(y.find(".icon"),r),y.find(".name").text(r.name).attr("href",n),m.hide(),m.children(".badge-author").toggle(!!r.author).find(".author-name").text(r.author),m.children(".badge-source").toggle(!!r.url).attr("href","https://github.com/easysoft/zui/tree/master/"+r.url);var l=r.lib;if(l){m.children(".badge-zui").toggle(!!l.bundles.standard),m.children(".badge-lite").toggle(!!l.bundles.lite),m.children(".badge-lib").toggle(!!l.bundles.seperate),m.children(".badge-custom").toggle(!!l.custom),m.children(".badge-bootstrap").toggle("Bootstrap"===l.source),m.children(".badge-version").toggle(!!l.ver).text(l.ver+"+"),m.children(".badge-party").toggle(!!l.thirdpart).attr("href",l.partUrl||"javascript:;").find(".product-ver").text(l.pver);var c=l.srcCount>0||l.bundlesCount>0,d=m.children(".badge-code-dropdown").toggle(c);if(c){var h=d.find(".badge-code").attr("data-type","has"+(l.srcCount?"-source":"")+(l.bundlesCount?"-bundles":""));h.children(".badge-code-source").toggle(!!l.srcCount).find(".count").text(l.srcCount),h.children(".badge-code-pkgs").toggle(!!l.bundlesCount).find(".count").text(l.bundlesCount);var p=d.find(".dropdown-menu").empty(),f={js:"Javascript",css:"CSS",less:"LESS",resource:"资源"};if(l.srcCount&&(p.append('<li class="dropdown-header primary-header" data-type="source"><i class="icon icon-file-code"></i>  源码 '+l.srcCount+"</li>"),t.each(l.src,function(e,t){p.append('<li class="dropdown-header">'+(f[e]||e)+"</li>"),t.forEach(function(e){e=e.replace(/\/\//g,"/"),p.append('<li><a target="_blank" href="https://github.com/easysoft/zui/blob/master/'+e+'">'+e+"</a></li>")})})),l.bundlesCount){if(p.append('<li class="dropdown-header primary-header" data-type="bundles"><i class="icon icon-cube"></i> 打包</li>'),l.bundles.standard){p.append('<li class="dropdown-header">标准版</li>');var g=[];l.src.js&&l.src.js.length&&g.push("dist/js/zui.js"),l.src.less&&l.src.less.length&&g.push("dist/css/zui.css"),l.src.resource&&l.src.resource.length&&l.src.resource.forEach(function(e){e=e.indexOf("//")>-1?"dist/"+e.substr(e.indexOf("//")+1):e.replace("src/","dist/").replace("assets/","dist/"),g.push(e)}),g.forEach(function(e){e=e.replace(/\/\//g,"/"),p.append('<li><a target="_blank" href="https://github.com/easysoft/zui/blob/master/'+e.replace("/**/*","")+'">'+e+"</a></li>")})}if(l.bundles.lite){p.append('<li class="dropdown-header">简洁版</li>');var g=[];l.src.js&&l.src.js.length&&g.push("dist/js/zui.lite.js"),l.src.less&&l.src.less.length&&g.push("dist/css/zui.lite.css"),l.src.resource&&l.src.resource.length&&l.src.resource.forEach(function(e){e=e.indexOf("//")>-1?"dist/"+e.substr(e.indexOf("//")+1):e.replace("src/","dist/").replace("assets/","dist/"),g.push(e)}),g.forEach(function(e){e=e.replace(/\/\//g,"/"),p.append('<li><a target="_blank" href="https://github.com/easysoft/zui/blob/master/'+e.replace("/**/*","")+'">'+e+"</a></li>")})}l.bundles.seperate&&(p.append('<li class="dropdown-header">独立组件</li>'),p.append('<li><a target="_blank" href="https://github.com/easysoft/zui/blob/master/dist/lib/'+r.id+'">dist/lib/'+r.id+"/**/*</a></li>")),"theme"===l.code&&p.append('<li><a target="_blank" href="https://github.com/easysoft/zui/blob/master/dist/zui-theme.css">dist/css/zui-theme.css</a></li>')}}}w.empty(),C.addClass("loading"),x.removeClass("with-error").addClass("loading");var v;return Y(r.url,function(a){var s=function(){if(a&&e.marked&&"markdown"===r.targetType){var s=t(),i=a.indexOf("\n---\n");i>-1&&(a=a.substr(i+5));var n,l=t(e.marked(a)),c=!0,d=l.filter("h2").length>0,u=null;l.each(function(){var e=t(this),a=e.prop("tagName");return a&&"STYLE"!==a&&"SCRIPT"!==a?"TEMPLATE"===a||"HOLDER"===a?void(u=e):(u&&(e.attr(u.allAttrs()),u=null),"TABLE"===a&&e.addClass("table"),c?("H1"===a&&y.find("h2 > .name").text(e.html()),void(c=!1)):("EXAMPLE"===a&&(e=t("<div/>").attr(e.allAttrs()).html(e.html()).addClass("example")),void(d&&("H1"===a||"H2"===a)||!d&&"H3"===a?(n&&(s=s.add(n)),n=t("<section><header><h3>"+e.html()+"</h3></header><article></article></section>")):(d&&("H3"===a?e=t("<h4>").html(e.html()):"H4"===a?e=t("<h5>").html(e.html()):"H5"===a&&(e=t("<h6>").html(e.html()))),n||(n=t("<article></article>")),"ARTICLE"===n.prop("tagName")?n.append(e):n.children("article").append(e))))):void(s=s.add(e))}),n&&(s=s.add(n)),w.empty().append(s)}else try{w.html(a)}catch(h){console.error("Page data has error: ",{content:a,error:h})}k.scrollTop(0),pe(o),ge(),m.show()};v&&clearTimeout(v),C.hasClass("openning")?v=setTimeout(s,700):s()},400),u.hasClass("page-open")?void(s&&console.log("open section in open page",r)):(u.addClass("page-open"),void ue(!0,function(){Q(),u.addClass("page-show"),setTimeout(function(){u.addClass("page-show-in"),C.hasClass("loading")&&C.addClass("openning"),k.scrollTop(0),setTimeout(function(){C.removeClass("openning"),R&&(R=t.zui.store.get("first_open_page",!0),R&&(R=!1,t.zui.store.set("first_open_page",!1),setTimeout(function(){t("#pageCloseBtn").tooltip("show").addClass("active"),setTimeout(function(){t("#pageCloseBtn").tooltip("hide").removeClass("active")},6e3)},500)))},300)},10)}))},me=function(a,r){a=a||b;var o;if(t.isArray(a)){if("undefined"!=typeof r&&(a=a.push(r)),!a[0])return void(s&&console.warn("Open section failed: can't find the section with id "+a.join("-")));if(a.length>0&&"search"===a[0])return void de(a[1]);if(!(i&&a.length>1))return void(s&&console.warn("Open section stop by null docIndex or wrong section value."));var n=a[1],l=i.chapters[a[0]].sections,c=!1;if(t.each(l,function(e,t){return t.id===n?(a.length>2&&(r=a[2]),a=t,c=!0,!1):void 0}),!c)return void(s&&console.warn("Open section failed: can't find the section with id "+a.join("-")))}if(t.isPlainObject(a))o=t("#section-"+a.chapter+"-"+a.id);else{var d=a;a=d.data("section"),o=d}if(""===a.url)return void t.zui.messager.show("该链接所指示的文档尚未完成。你可以Fork项目来完善文档。");switch(a.target){case"external":e.open(a.url,"_blank");break;case"page":ve(o,a,r);break;default:s&&console.error("Open section failed: unknown target.")}},be=function(e,t){var a=typeof e;if("object"===a){"undefined"==typeof t&&(t=e.hasClass("collapsed")),e.toggleClass("collapsed",!t);var s=w.children("section"),r=s.length,o=s.filter(".collapsed").length;0===o?C.removeClass("page-collapsed"):o===r&&C.addClass("page-collapsed")}else t="boolean"===a?e:C.hasClass("page-collapsed"),C.toggleClass("page-collapsed",!t),t?w.children("section").removeClass("collapsed"):w.children("section").addClass("collapsed")},Ce=function(t){t.startsWith("#")&&t.length>1?(t=t.substr(1),setTimeout(function(){var e=t.split("/"),a=e[0].toLowerCase();"search"===a||"query"===a?de(e[1]):me(e)},600)):$(t)?e.open(t,"_blank"):s&&console.warn("Open page url failed: unknown url",t)},ye=function(e,t,a){if(t){var s=t.length;e=e.toLowerCase();for(var r=e+"s",o=e+".",i=e+"s.",n=0;s>n;++n){var l=t[n];if(l===e||l===r||l.startsWith(o)||l.startsWith(i))return!0}}return!1},we=function(e,a,s,r){return r||(r=[]),t.isArray(r)||(r=[r]),a.bundles&&t.each(a.bundles,function(t,a){var o=e.builds[a],i=s[a];!o&&i&&(o={title:i.name,dest:"dist/lib/"+a+"/",filename:i.source&&"Bootstrap"!==i.source?a:"zui."+a,includes:[a],source:i.source,settingDpds:i.src&&i.src.less&&i.src.less.length?["setting"]:null,ignoreBasic:!0,ignoreDpds:void 0===i.ignoreDpds?!0:i.ignoreDpds},e.builds[a]=o),we(e,o,s,r)}),a.basicDpds&&(r=xe(s,a.basicDpds,r)),r=xe(s,a.includes,r,a.ignoreDpds)},xe=function(e,a,s,r,o){if(s=s||[],t.isArray(a))t.each(a,function(t,a){xe(e,a,s,r)});else{var i=e[a];i&&s.indexOf(a)<0&&(!r&&i.dpds&&xe(e,i.dpds,s,r),(i.src||!o)&&s.push(a))}return s},ke=function(e){Y(B,function(a){Y(_,function(s){l=t.extend(a,{lib:t.extend({},s.lib),builds:t.extend({},s.builds)}),t.doc&&(t.doc.pkg=l),e(l)},null,!0)},null,!0)},Te=function(){ke(function(e){function a(t,s,r){t.src&&["less","js","resource"].forEach(function(e){t.src[e]&&t.src[e].forEach(function(t){t.startsWith("~/")&&(t=t.replace("~/","js"===e?"src/js/":"less"===e?"src/less/":"src/")),s[e]||(s[e]=[]),s[e].indexOf(t)<0&&s[e].push(t)})}),t.dpds&&t.dpds.forEach(function(t){t.startsWith(r)&&e.lib[t]&&!e.lib[t].thirdpart&&a(e.lib[t],s,r)})}t(".zui-version").text("v"+e.version),I.standard=we(e,e.builds.standard,e.lib),I.lite=we(e,e.builds.lite,e.lib),I.seperate=we(e,e.builds.seperate,e.lib),console.log("pkgLibs",I),Z(function(s,r,o){var i=r.dpds||r.id,n=e.lib[i];n||(i=r.id+"s",n=e.lib[i]);var l={code:i,bundles:{}};if(t.each(I,function(e,t){ye(r.id,t,n)&&(l.bundles[e]=!0)}),n){if(l.source=n.source,n.thirdpart&&(l.thirdpart=!0,l.partUrl=n.website,l.pver=n.pver),!n.src&&n.dpds&&(l.custom=!0,l.source||t.each(n.dpds,function(t,a){var s=e.lib[a];s&&s.source&&(l.source=s.source)})),n.ver)l.ver=n.ver;else if(l.custom)for(var c=0;c<n.dpds.length;++c){var d=n.dpds[c],u=e.lib[d]||e.lib[d+"s"];if(u&&u.ver){l.ver=u.ver;break}}l.src={},a(n,l.src,l.code),l.srcCount=(l.src.js?l.src.js.length:0)+(l.src.less?l.src.less.length:0)+(l.src.source?l.src.source.length:0),l.bundlesCount=0,l.bundles.standard&&l.bundlesCount++,l.bundles.lite&&l.bundlesCount++,l.bundles.seperate&&l.bundlesCount++,"theme"===l.code&&l.bundlesCount++}r.lib=l})})},We=function(e){e.length&&ke(function(a){var s,r,o=t("<tbody></tbody>"),i=function(e){return a.lib[e].name},n=0;t.each(a.lib,function(e,l){if(!l.hidden){var c="";if(!l.src&&l.dpds){var d=xe(a.lib,l.dpds,null,!0,!0);c="包含：",c+=t.map(d,i).join("、"),l.merged=!0}else n++;if(s=t("<tr/>"),r=t("<td/>"),r.attr("title",l.desc),r.html("<strong>"+l.name+"</strong> ("+e+(l.pver?" v"+l.pver:"")+")"),s.append(r),t.each(I,function(a,o){r=t('<td class="text-center"/>'),o.indexOf(e)>-1?r.addClass("success").html('<i class="text-success icon-ok"></i>'):r.html('<i class="text-muted icon-remove"></i>'),s.append(r)}),r=t("<td/>"),l.source){var u=t("<a/>",{target:"_blank",title:"License: "+l.license,href:l.website||l.project||("Bootstrap"===l.source?"http://getbootstrap.com/":"###")}).text(l.source);r.append(u)}else l.merged?r.append('<span class="text-muted">(合并组件)</span>'):r.append("ZUI");s.append(r),r=t("<td/>"),r.html(l.ver?" v"+l.ver+"+":c),s.append(r),o.append(s)}}),e.find("tbody").remove(),e.append(o),e.datatable({rowHover:!1,fixedHeaderOffset:200}),t(".components-count").text(n)})},Le=function(){if(!t.zui.browser.isIE()||t.zui.browser.ie>8){S=t("#copyCodeBtn");var a=new e.Clipboard(S.get(0));a.on("success",function(e){t("#copyCodeTip").addClass("tooltip-success"),S.tooltip("show",'已复制 <i class="icon icon-ok"></i>'),e.clearSelection()}),a.on("error",function(e){t("#copyCodeTip").addClass("tooltip-warning"),S.tooltip("show","按 <strong>Ctrl+C</strong> 完成复制")}),S.on("hide.zui.tooltip",function(){t("#copyCodeTip").removeClass("tooltip-success tooltip-warning")}),t(document).on("mouseenter","pre.prettyprint, .copyable",function(){var e=t(this),a=e.children("code, .linenums, .copyable-target");a.length&&(a.attr("id")||a.attr("id","code-"+t.zui.uuid()),e.prepend(S),S.attr("data-clipboard-target","#"+a.attr("id")),e.one("mouseleave",function(){S.detach()}))})}},Ee=function(e){return"string"==typeof e&&(e=F[e]),e.variables?(e.variablesLess="",t.each(e.variables,function(t,a){e.variablesLess+="@"+t+": "+a+";\n"})):e.variablesLess||(e.variablesLess=""),e},je=function(a,s,r){"string"==typeof a&&(a=F[a]),"function"==typeof s&&(r=s,s=null),a.variablesLess||Ee(a),a.imports||(a.imports=["src/less/basic/colorset.less","src/less/basic/variables.less","src/less/basic/mixins.less","src/less/theme.less","src/less/controls/icons.variables.less","src/less/doc.less"]);var o=t.isArray(a.imports)?a.imports.map(function(e){return'@import "'+e+'";'}).join("\n"):a.imports;o+=a.variablesLess+(a.lessCode||""),e.less.render(o,t.extend({compress:!0},s),function(e,t){r&&r(t,a)})},ze=function(e){var t=document.getElementById("themeStyle");t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e},Se=function(e,a){var s=t("body"),r=function(r){ze(r||""),a&&a(e),s.removeClass("theme-changing"),r?t.zui.store.set("doc_theme",e):t.zui.store.remove("doc_theme")};return e&&"default"!==e&&"default"!==e.name?("string"==typeof e&&(e=F[e]),s.hasClass("theme-changing")?!1:(s.addClass("theme-changing"),e.css?r(e.css):setTimeout(function(){je(e,null,function(t){t&&(e.css=t.css),r(t?t.css:"")})},500),!0)):void r()},Ae=function(){t.each(F,function(e,t){t.name||(t.name=e)});var e=t.zui.store.get("doc_theme");e&&Se(e)},De=function(){N=e.document.title;var s=function(e){e.stopPropagation()};h=t(e),u=t("body"),T=t("#navbar"),p=t("#grid"),E=t("#header"),C=t("#page"),y=t("#pageHeader"),m=t("#pageAttrs"),x=t("#pageLoader"),w=t("#pageContent"),v=p.find(".chapter"),g=t("#searchInput"),z=p.find(".chapter-heading"),f=t("#sectionTemplate").attr("id",null),k=t("#pageBody"),t.each(A,function(e,a){e=e.toLowerCase(),a.$=t("#chapter-"+e),a.id=e,a.$sections=t("#sections-"+e)}),M=p.children(".container").outerWidth(),o=t.zui.store&&t.zui.store.enable,t.ajaxSetup({cache:!1}),Y(P,function(s){var r=!c;if(J(s),!r){var o=a("q");o&&setTimeout(function(){de(o)},300);var i=e.location.hash;i?Ce(i):g.focus(),Te()}t(".doc-version").text(s.version)});var r,i;t(document).on("click",function(e){return i?void(i=!1):void(u.attr("data-query")||te())}).on("click",'a[href^="#"]',function(){Ce(t(this).attr("href"))}),C.on("click",function(e){i=!0}),p.on("click",".card-heading",function(e){var a=t(this).closest(".card");a.hasClass("choosed")?a.toggleClass("open"):te(a,!0),s(e)}).on("click",".chapter-heading > h4 > .name",function(){g.focus().val("@"+t(this).closest(".chapter").data("id")).change()}).on("click",".card",function(e){te(t(this),!0),s(e)}).on("click",".card-heading > h5 > .name, .card-heading > .icon",function(e){me(t(this).closest(".section")),s(e)}).on("click",".topics > li > a",function(e){var a=t(this);Ce(a.attr("href")),e.preventDefault(),s(e)}).on("mouseenter",".card-heading > h5 > .name, .card-heading > .icon",function(){t(this).closest(".card-heading").addClass("hover")}).on("mouseleave",".card-heading > h5 > .name, .card-heading > .icon",function(){t(this).closest(".card-heading").removeClass("hover")}).on("mouseenter","#section-control-icon .section-search > ul > li > a",function(){r=t("#section-control-icon").data("preview"),le(t(this).closest("li"))}).on("mouseleave","#section-control-icon .section-search > ul > li > a",function(){r&&le(t("#control-icon-"+r))}).on("click","#section-control-icon .section-search > ul > li > a",function(){r=t(this).closest("li").data("id")}),w.on("click","section > header > h3",function(){be(t(this).closest("section"))}).on("mouseenter","section > header > h3",function(){t(this).closest("section").addClass("hover")}).on("mouseleave","section > header > h3",function(){t(this).closest("section").removeClass("hover")}),C.on("click","#pageTogger",function(){be()}),y.on("click",".path-close-btn",function(){he()});var n,l=t("#navbar").outerHeight();h.on("scroll",function(e){if(!u.hasClass("layout-classic")){var t=u.data("isScrollAnimating");if(t)return void h.scrollTop(0);n=h.scrollTop(),n>l&&!u.hasClass("compact-mode")?ue(!0):u.hasClass("page-show")||E.toggleClass("with-shadow",n>20)}}).on("keydown",function(e){var t=e.which,a=!u.hasClass("page-show"),s=u.hasClass("input-query-focus");9===t?u.hasClass("input-query-focus")||(g.focus(),e.preventDefault()):13===t?a&&ee()&&me():27===t?he()||(s||g.focus(),L="",de()):37===t?(oe(),e.preventDefault()):39===t?(ie(),e.preventDefault()):38===t?a?(ae(),e.preventDefault()):X(k,"up"):40===t&&a&&(se(),e.preventDefault())}),k.on("scroll",function(e){C.toggleClass("with-shadow",k.scrollTop()>20)}),W=t("#search"),g.focus().on("change keyup paste input propertychange",function(){
var e=g.val();e!==L&&(L=e,W.toggleClass("with-query-text",e.length>0),clearTimeout(g.data(q)),g.data(q,setTimeout(function(){L!==g.data("queryString")&&de(L)},150)))}).on("focus",function(){u.addClass("input-query-focus"),g.val()&&!j.filter(".open").length&&te(j.filter(".show:first"))}).on("blur",function(){u.removeClass("input-query-focus")}).on("click",s),t("#searchHelpBtn").on("click",function(e){W.hasClass("with-query-text")?(L="",de(),g.focus(),W.removeClass("with-query-text")):(me(["resource","help"]),t(this).blur()),s(e)}),t("#navbar .navbar-brand").on("click",function(e){u.hasClass("page-show")?(he(),s(e),e.preventDefault()):u.hasClass("compact-mode-in")&&(h.scrollTop(0),ue(!1),s(e),e.preventDefault())}),Le(),Ae(),t('[data-toggle="tooltip"]').tooltip({container:"body"})};De(),t.doc={query:de,themes:F,changeTheme:Se,compileTheme:je,compileThemeVariables:Ee,openSection:me,closePage:he,loadData:Y,stopPageLoading:fe,displayPkgLibTable:We,pkg:l}}(window,jQuery);